let t=null;chrome.runtime.onMessage.addListener((e,o,c)=>{var n;if(e.type==="TEXT_SELECTED")t=e.payload,chrome.action.setBadgeText({text:"!"}),chrome.action.setBadgeBackgroundColor({color:"#4285F4"});else if(e.type==="GET_SELECTED_TEXT")c(t);else if(e.type==="USE_REPLY"){const{text:d}=e.payload,a=(n=o.tab)==null?void 0:n.id;a&&(chrome.tabs.sendMessage(a,{type:"FILL_REPLY_FIELD",payload:{text:d}}),chrome.action.setBadgeText({text:""}))}return!0});chrome.action.onClicked.addListener(()=>{t&&chrome.action.setBadgeText({text:""})});chrome.runtime.onInstalled.addListener(()=>{console.log("VernisAI Extension installed"),chrome.action.setBadgeText({text:""})});chrome.tabs.onUpdated.addListener((e,o)=>{o.status==="complete"&&(chrome.action.setBadgeText({text:""}),t=null)});
